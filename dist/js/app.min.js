const fontes=document.getElementById("fontes"),cores=document.getElementById("cores"),racas=document.getElementById("racas"),racasoption=document.getElementsByTagName("option"),nomeDog=document.getElementById("nome-dog"),code=document.getElementById("code"),color=document.getElementById("cor"),data=document.getElementById("data"),inputDog=document.getElementById("input-dog"),imagemdog=document.getElementById("cachorro_selecionado"),backDog=document.getElementById("nome-dog");let htmlRacas;const storageMyDog=JSON.parse(localStorage.getItem("meuDog"));let meuDog={};function seleciona(e){e.onchange=function(){const o=e.options.selectedIndex,n=e.options[o].value;"fontes"===e.name&&(nomeDog.style.fontFamily=n,meuDog.fonte=n),"cores"===e.name&&(nomeDog.style.color=n,meuDog.cor=n),"racas"===e.name&&(meuDog.raca=n,fetchImg(n))}}function fetchDog(){fetch("https://dog.ceo/api/breeds/list/all").then(e=>e.json()).then(e=>{Object.keys(e.message).forEach(e=>{htmlRacas=`<option value='${e}'>${e}</option>`,racas.innerHTML+=htmlRacas})}).catch(e=>{console.error(e)})}function reloadInit(){fetchDog(),seleciona(fontes),seleciona(cores),seleciona(racas),selectDog()}function selectDog(){storageMyDog?imagemdog.src=storageMyDog.imagem:seleciona(racas)}function fetchImg(e){fetch(`https://dog.ceo/api/breed/${e}/images/random`).then(e=>e.json()).then(e=>{imagemdog.src=e.message,meuDog.imagem=e.message})}function salvar(){if(!meuDog.nome)return(new AWN).warning("Digite o nome",{durations:{warning:3500}});if(!meuDog.raca)return(new AWN).warning("Escolha uma raÃ§a",{durations:{warning:3500}});if(!meuDog.fonte)return(new AWN).warning("Escolha uma fonte",{durations:{warning:3500}});if(!meuDog.cor)return(new AWN).warning("Escolha uma cor",{durations:{warning:3500}});meuDog.horario=(new Date).getTime();let e=JSON.stringify(meuDog);localStorage.setItem("meuDog",e),code.innerText=e,data.textContent=`Cachorrinho salvo em ${new Date(meuDog.horario).toLocaleString()}`,(new AWN).success("Cachorrinho salvo!",{durations:{sucess:3500}})}function resetar(){localStorage.removeItem("meuDog"),(new AWN).success("Removido com sucesso!",{durations:{warning:4e3}}),setTimeout(()=>{window.location.reload()},4e3)}storageMyDog&&(setTimeout(()=>{inputDog.value=storageMyDog.nome,meuDog.nome=storageMyDog.nome,fontes.value=storageMyDog.fonte,meuDog.fonte=storageMyDog.fonte,cores.value=storageMyDog.cor,meuDog.cor=storageMyDog.cor,cor.value=storageMyDog.background,meuDog.background=storageMyDog.cor,racas.value=storageMyDog.raca,meuDog.raca=storageMyDog.raca},1e3),nomeDog.style.fontFamily=storageMyDog.fonte,nomeDog.style.color=storageMyDog.cor,nomeDog.textContent=storageMyDog.nome,backDog.style.background=storageMyDog.background,data.textContent=`Cachorrinho salvo em ${new Date(storageMyDog.horario).toLocaleString()}`,code.innerHTML=localStorage.getItem("meuDog")),inputDog.onkeyup=function(){""!==inputDog.value?(nomeDog.textContent=inputDog.value,meuDog.nome=inputDog.value):(new AWN).warning("Escreva um nome pra seu dog!",{durations:{warning:3500}})},color.onchange=function(){backDog.style.background=color.value,meuDog.background=color.value},reloadInit();